# Dev-Ex Platform Environment Configuration
# Copy this file to .env and fill in your values
# SECURITY WARNING: NEVER commit .env to version control

# ============================================
# ENVIRONMENT
# ============================================
NODE_ENV=development
PYTHON_ENV=development

# ============================================
# SECURITY - MUST CHANGE ALL OF THESE!
# ============================================

# API Keys (REQUIRED)
# Get from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# Authentication - Generate secure secrets with: openssl rand -base64 32
JWT_SECRET=CHANGE-THIS-use-openssl-rand-base64-32-to-generate
JWT_REFRESH_SECRET=CHANGE-THIS-use-different-secret-than-above
JWT_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# Session Security
SESSION_SECRET=CHANGE-THIS-another-unique-secret-key
SESSION_TIMEOUT=3600

# ============================================
# DATABASE - CHANGE PASSWORD IN PRODUCTION!
# ============================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=devex
DB_USER=devex
DB_PASSWORD=CHANGE-THIS-DATABASE-PASSWORD
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ============================================
# REDIS - ADD PASSWORD IN PRODUCTION!
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE-THIS-REDIS-PASSWORD
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}

# ============================================
# N8N - CHANGE CREDENTIALS IMMEDIATELY!
# ============================================
N8N_USER=CHANGE-THIS-USERNAME
N8N_PASSWORD=CHANGE-THIS-STRONG-PASSWORD
N8N_ENCRYPTION_KEY=CHANGE-THIS-use-openssl-rand-base64-32

# Services Configuration
API_GATEWAY_PORT=8080
AI_SERVICE_PORT=50051
FRONTEND_PORT=3000

# ============================================
# SECURITY SETTINGS
# ============================================

# Rate Limiting - Prevent abuse
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_PER_USER=50

# CORS - Restrict origins in production
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# Password Policy
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_MAX_LOGIN_ATTEMPTS=5
PASSWORD_LOCKOUT_DURATION_MINUTES=15

# Logging
LOG_LEVEL=debug

# Vector Database
EMBEDDING_MODEL=text-embedding-ada-002
VECTOR_DIMENSION=1536
MAX_CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# AI Configuration
AI_MODEL=gemini-pro
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=4096
AI_TIMEOUT_SECONDS=30

# Session Configuration
SESSION_TTL_SECONDS=86400
MAX_SESSIONS_PER_USER=10

# File Upload
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=pdf,txt,md,json

# Monitoring
METRICS_ENABLED=true
TRACING_ENABLED=true
PROMETHEUS_PORT=9090

# External Services
WEBHOOK_URL=
SLACK_WEBHOOK_URL=

# Development Settings
DEBUG=true
VERBOSE_LOGGING=true
HOT_RELOAD=true